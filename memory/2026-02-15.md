
## DP ëª¨ë‹ˆí„° + Chrome Remote Desktop ë¬¸ì œ í•´ê²°

**ë¬¸ì œ:** DP ëª¨ë‹ˆí„° ë„ë©´ Chrome Remote Desktopì—ì„œ ë¹ˆ í™”ë©´ (HDMIëŠ” ê´œì°®ìŒ)

**ì›ì¸:** DPëŠ” HPD(Hot Plug Detect) ì‹ í˜¸ë¡œ ëª¨ë‹ˆí„° êº¼ì§€ë©´ "ì—°ê²° í•´ì œ"ë¡œ ì¸ì‹ â†’ ë””ìŠ¤í”Œë ˆì´ ì¶œë ¥ ì¤‘ë‹¨

**í•´ê²°:** NVIDIA xorg ì„¤ì •ìœ¼ë¡œ EDID ê³ ì •

```bash
# EDID ì €ì¥
sudo mkdir -p /etc/X11/edid
sudo cat /sys/class/drm/card1-DP-1/edid > /etc/X11/edid/dp0.bin
sudo cat /sys/class/drm/card1-DP-3/edid > /etc/X11/edid/dp4.bin

# xorg ì„¤ì •
sudo nano /etc/X11/xorg.conf.d/10-monitor-persist.conf
```

ì„¤ì • ë‚´ìš©:
```
Section "Device"
    Identifier     "nvidia"
    Driver         "nvidia"
    Option         "ConnectedMonitor" "DP-0, DP-4"
    Option         "CustomEDID" "DP-0:/etc/X11/edid/dp0.bin; DP-4:/etc/X11/edid/dp4.bin"
    Option         "ModeValidation" "AllowNonEdidModes, NoVirtualSizeCheck"
EndSection
```

**ë³µêµ¬:** `sudo rm /etc/X11/xorg.conf.d/10-monitor-persist.conf && sudo reboot`

## Google Docs ì‹¤ì‹œê°„ í˜‘ì—… í™˜ê²½ êµ¬ì¶• ì™„ë£Œ

### ì‘ì—… íë¦„
1. **ë¬¸ì„œ ì¤€ë¹„**
   - HWP â†’ DOCX ë³€í™˜ (í•œê¸€ì—ì„œ "ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥")
   - ë˜ëŠ” HWP íŒŒì¼ì„ hwp5txtë¡œ í…ìŠ¤íŠ¸ ì¶”ì¶œ ê°€ëŠ¥

2. **Google Docs ì—…ë¡œë“œ**
   - Google Driveì— DOCX ì—…ë¡œë“œ
   - Google Docsë¡œ ì—´ê¸°
   - ê³µìœ  â†’ "ë§í¬ê°€ ìˆëŠ” ëª¨ë“  ì‚¬ìš©ì" â†’ "í¸ì§‘ì"

3. **ì‹¤ì‹œê°„ í˜‘ì—…**
   - ë°©ê¸°ì”¨ê°€ ë§í¬ ê³µìœ 
   - nexì—ì„œ Chromeìœ¼ë¡œ ë¬¸ì„œ ì—´ê¸°
   - xdotoolë¡œ í…ìŠ¤íŠ¸ ì…ë ¥ ê°€ëŠ¥!

### ëª…ë ¹ì–´
```bash
# Google Docs ì°½ ì°¾ê¸°
DISPLAY=:0 xdotool search --name "Google Docs" | head -1

# ì°½ í™œì„±í™” í›„ í…ìŠ¤íŠ¸ ì…ë ¥
DISPLAY=:0 xdotool windowactivate <window_id>
DISPLAY=:0 xdotool type --clearmodifiers "ì…ë ¥í•  í…ìŠ¤íŠ¸"

# íŠ¹ìˆ˜í‚¤ ì…ë ¥
DISPLAY=:0 xdotool key ctrl+a  # ì „ì²´ ì„ íƒ
DISPLAY=:0 xdotool key ctrl+c  # ë³µì‚¬
DISPLAY=:0 xdotool key ctrl+v  # ë¶™ì—¬ë„£ê¸°
DISPLAY=:0 xdotool key Return  # ì—”í„°
DISPLAY=:0 xdotool key BackSpace  # ì‚­ì œ
```

### ë¬¸ì„œ ë¶„ì„
- HWP í…ìŠ¤íŠ¸ ì¶”ì¶œ: `hwp5txt íŒŒì¼.hwp`
- python-docxë¡œ DOCX ì§ì ‘ ìˆ˜ì • ê°€ëŠ¥

### ì œì•½ì‚¬í•­
- OnlyOffice: HWP ì§€ì› ë¶ˆì•ˆì •, ì›¹ ì—ë””í„° ì„¤ì • ë³µì¡
- HWPâ†’DOCX ë³€í™˜: ì–‘ì‹ ì¼ë¶€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ
- Google Docs: ì‹¤ì‹œê°„ í˜‘ì—… OK, ì–‘ì‹ ì¼ë¶€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ

### ê²°ë¡ 
**Google Docs + xdotool** ì¡°í•©ì´ í˜„ì¬ ê°€ì¥ ì‹¤ìš©ì ì¸ ì‹¤ì‹œê°„ í˜‘ì—… ë°©ë²•!

## ğŸ„ ì†Œ ë°œì •íƒì§€ í”„ë¡œì íŠ¸ ê¸°ë¡
- PROJECTS.yamlì— cattle_estrus í”„ë¡œì íŠ¸ ì¶”ê°€
- ê²½ë¡œ: ~/projects/cattle-estrus-detection
- ë°ì´í„°ì…‹: ~/Dropbox/Company/cow/Cattle.v1i.yolov11

## ğŸ”§ ëŒ€í™” ìë™ ê¸°ë¡ ì‹œìŠ¤í…œ êµ¬ì¶•

### 1. 30ë¶„ë§ˆë‹¤ ìë™ ë™ê¸°í™”
- ìŠ¤í¬ë¦½íŠ¸: `~/clawd/scripts/auto-memory-sync.sh`
- cron: `*/30 * * * *`
- ë™ì‘: memory/*.md â†’ clawd-logs/daily/ ë³µì‚¬ + git commit/push

### 2. Heartbeat ëŒ€í™” ê¸°ë¡ ê°•í™”
- HEARTBEAT.mdì— "ëŒ€í™” ìë™ ê¸°ë¡" ì„¹ì…˜ ì¶”ê°€
- ë§¤ heartbeatë§ˆë‹¤ ì¤‘ìš” ì •ë³´ ì¦‰ì‹œ íŒŒì¼ì— ê¸°ë¡

### 3. AGENTS.md ì›ì¹™ ì¶”ê°€
- "ì¦‰ì‹œ ê¸°ë¡í•´ì•¼ í•˜ëŠ” ê²ƒë“¤" ì„¹ì…˜ ì¶”ê°€
- í”„ë¡œì íŠ¸ ê²½ë¡œ, ì„œë²„ ì •ë³´, ê²°ì •ì‚¬í•­ ë“± ë°”ë¡œ ê¸°ë¡

## ğŸ„ cattle-estrus-detection ì›¹ UI ì‹œìŠ¤í…œ êµ¬ì¶•

### ì‘ì—… ë‚´ìš©
- **FastAPI ë°±ì—”ë“œ** ì¶”ê°€
  - `backend/main.py` - ì•± ì§„ì…ì 
  - `backend/api/routes/videos.py` - ì˜ìƒ ê´€ë¦¬ API
  - `backend/api/routes/detection.py` - ê°ì§€ + WebSocket ìŠ¤íŠ¸ë¦¬ë°
  - `backend/services/video_processor.py` - ì‹¤ì‹œê°„ ì˜ìƒ ì²˜ë¦¬
  - `backend/core/config.py` - ì„¤ì • ê´€ë¦¬

- **React í”„ë¡ íŠ¸ì—”ë“œ** ì¶”ê°€
  - Vite + React + TypeScript + TailwindCSS v3
  - ì‹¤ì‹œê°„ WebSocket ìŠ¤íŠ¸ë¦¬ë°
  - ìŠ¹ê°€ ì´ë²¤íŠ¸ ì•Œë¦¼ UI
  - ë¹Œë“œ ì™„ë£Œ: `frontend/dist/`

### ì‹¤í–‰ ë°©ë²•
```bash
cd ~/projects/cattle-estrus-detection
source venv/bin/activate
python -m uvicorn backend.main:app --host 0.0.0.0 --port 8000
# http://localhost:8000
```

### ê¸°ëŠ¥
1. ì˜ìƒ ì„ íƒ/ì—…ë¡œë“œ
2. ì‹¤ì‹œê°„ ê°ì§€ ê²°ê³¼ ìŠ¤íŠ¸ë¦¬ë° (WebSocket)
3. ì†Œ ê°œì²´ ì¶”ì  (DeepSORT)
4. ìŠ¹ê°€ í–‰ë™ ê°ì§€ ì•Œë¦¼

### ì˜ì¡´ì„± ì¶”ê°€
- fastapi, uvicorn, python-multipart, pydantic-settings, websockets

## ğŸ„ cattle-estrus-detection ë””ë²„ê¹… (20:45~21:17)

### ìˆ˜ì •í•œ ë²„ê·¸ë“¤
1. **DeepSORT reset() AttributeError**
   - `self.tracker.max_age` ì°¸ì¡° ì—ëŸ¬
   - í•´ê²°: ìƒì„±ìì—ì„œ `_max_age`, `_min_hits`, `_iou_threshold` ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì €ì¥

2. **CUDA device=auto ì—ëŸ¬**
   - torch.cuda.device_count()ê°€ 0 ë°˜í™˜í•˜ëŠ” ë¬¸ì œ
   - í•´ê²°: `config.py`ì—ì„œ `DEVICE = "0"` ëª…ì‹œì  ì„¤ì •

3. **ì˜ìƒ ì½”ë± ë¬¸ì œë“¤**
   - Opus audio codec ì—ëŸ¬ (mkv) â†’ ì˜¤ë””ì˜¤ ì œê±° ë²„ì „ ìƒì„±
   - AV1 codec ë¯¸ì§€ì› (webm) â†’ H.264ë¡œ ë³€í™˜
   - ë³€í™˜ ëª…ë ¹: `ffmpeg -i input.webm -c:v libx264 -crf 23 -an output.mp4`

### í…ŒìŠ¤íŠ¸ ëŒ€ê¸°
- `videos/Estrus_detection_no_audio.mp4` (ë³€í™˜ ì™„ë£Œ)
- `videos/farm_video.mp4` (ë³€í™˜ ì™„ë£Œ)
- `videos/normal/clip_*.mp4` (ì›ë˜ ìˆë˜ íŒŒì¼ë“¤)

## ğŸ¨ SAM ë¼ë²¨ë§ GUI ì¶”ê°€ (21:30~22:00)

### êµ¬í˜„ ë‚´ìš©
- `/labeling` í˜ì´ì§€ - SAM ê¸°ë°˜ ì„¸ê·¸ë©˜í…Œì´ì…˜ ë¼ë²¨ë§ ë„êµ¬
- `backend/api/routes/sam.py` - SAM API ì—”ë“œí¬ì¸íŠ¸
- `frontend/src/pages/Labeling.tsx` - ë¼ë²¨ë§ UI

### ê¸°ëŠ¥
- ì´ë¯¸ì§€ í´ë¦­ìœ¼ë¡œ í¬ì¸íŠ¸ í”„ë¡¬í”„íŠ¸ (ì¢Œí´ë¦­=í¬í•¨, ìš°í´ë¦­=ì œì™¸)
- SAM ì„¸ê·¸ë©˜í…Œì´ì…˜ ì‹¤í–‰
- ë§ˆìŠ¤í¬ ì„ íƒ ë° í´ë˜ìŠ¤ ì§€ì • (cow / mounting_cow)
- YOLO í¬ë§·ìœ¼ë¡œ ë¼ë²¨ ì €ì¥

### ì„¤ì¹˜ëœ ê²ƒ
- `segment-anything` íŒ¨í‚¤ì§€
- SAM ViT-B ëª¨ë¸ (`models/sam/sam_vit_b_01ec64.pth`, 358MB)
- `react-router-dom` (í˜ì´ì§€ ë¼ìš°íŒ…)

### ë‹¤ìŒ ë‹¨ê³„
- SAM ë¼ë²¨ë§ìœ¼ë¡œ mounting/normal ë°ì´í„°ì…‹ ë¼ë²¨ë§
- YOLOv8-seg í•™ìŠµ

---

## ğŸš€ Training UI êµ¬í˜„ (23:00~)

### SAM ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ
- `sam_vit_b_01ec64.pth` (358MB) âœ“
- `sam_vit_h_4b8939.pth` (2.4GB) âœ“
- ìœ„ì¹˜: `~/projects/cattle-estrus-detection/models/sam/`

### Training í˜ì´ì§€ ì¶”ê°€
- `backend/api/routes/training.py` - í•™ìŠµ API
- `frontend/src/pages/Training.tsx` - í•™ìŠµ UI (/training)

### ê¸°ëŠ¥
- ğŸ“Š ë°ì´í„°ì…‹ í˜„í™© (mounting/normal ë¼ë²¨ ìˆ˜)
- âš™ï¸ í•™ìŠµ ì„¤ì • (ëª¨ë¸, ì—í¬í¬, ë°°ì¹˜ ë“±)
- ğŸš€ ë°±ê·¸ë¼ìš´ë“œ í•™ìŠµ ì‹œì‘/ì¤‘ì§€
- ğŸ“‹ ì‹¤ì‹œê°„ ë¡œê·¸ & ì§„í–‰ë¥ 
- ğŸ“ í•™ìŠµ ê¸°ë¡ ì¡°íšŒ

### ë¼ë²¨ë§ í˜„í™©
- mounting: 81ê°œ í´ë¦½ ë¼ë²¨ë§ë¨
- normal: 9ê°œ í´ë¦½ ë¼ë²¨ë§ë¨
