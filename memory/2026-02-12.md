# 2026-02-12 (ìˆ˜)

## ðŸ› ï¸ Stock í”„ë¡œì íŠ¸ - manual_sell.py ê°œì„ 

### ë¬¸ì œ
- ìˆ˜ë™ ë§¤ë„ ì‹œ DBì— ê¸°ë¡ ì•ˆ ë¨
- ë”¥ë°”ì´ ë§¤ë„ê°€(last_sell_prices) ì—…ë°ì´íŠ¸ ì•ˆ ë¨
- UIì— ì´ì „ ë§¤ë„ê°€(174,300ì›)ê°€ ê³„ì† í‘œì‹œë¨ (ì‹¤ì œ ì²´ê²°ê°€ 175,650ì›)

### í•´ê²°
`manual_sell.py` ì „ë©´ ê°œì„ :
1. ë§¤ë„ ì„±ê³µ ì‹œ **DB transactions í…Œì´ë¸”ì— ê¸°ë¡**
2. **ë”¥ë°”ì´ ë§¤ë„ê°€ API ìžë™ í˜¸ì¶œ** (`/api/trading/deep-buy/last-sell-price`)
3. CLI ì¸ìž ì§€ì›: `python manual_sell.py 005930 ì‚¼ì„±ì „ìž -q 1`

### ì»¤ë°‹
- `f255343` - manual_sell: DB ê¸°ë¡ + ë”¥ë°”ì´ ë§¤ë„ê°€ ì—…ë°ì´íŠ¸ ì¶”ê°€
- `1de4a5f` - manual_sell: API URL ìˆ˜ì • (query param)

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- ì‚¼ì„±ì „ìž 1ì£¼ ë§¤ë„: 179,300ì› ì²´ê²° âœ…
- ì‚¼ì„±ì „ìžìš° 1ì£¼ ë§¤ë„: 120,600ì› ì²´ê²° âœ…
- DB ê¸°ë¡ âœ…, ë”¥ë°”ì´ ë§¤ë„ê°€ ì—…ë°ì´íŠ¸ âœ…

---

## ðŸ“Š ë™ë°˜ë§¤ìˆ˜ ì „ëžµ ë¡œê·¸ ë¶„ì„

### ë¬¸ì œ
- 3ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ”ë° ë§¤ìˆ˜ 0ê±´
- ì™¸êµ­ì¸ë§¤ìˆ˜ ì‹ í˜¸ 10-14ê°œì¸ë° í•„í„°í†µê³¼ 0ê°œ

### ì›ì¸
í•„í„° ì¡°ê±´:
- `MIN_PRICE = 5000` (ì €ê°€ì£¼ ì œì™¸)
- `MAX_DAILY_CHANGE = 3.0` (3% ì´ˆê³¼ ìƒìŠ¹ ì œì™¸)

ì™¸êµ­ì¸ì´ ì‚¬ëŠ” ì¢…ëª© = ì´ë¯¸ ì˜¤ë¥´ê³  ìžˆìŒ = 3% ì´ˆê³¼ = ì „ë¶€ ì œì™¸ë¨

### í•´ê²°
**ì™¸êµ­ì¸ STRONG_BUYëŠ” 5%ê¹Œì§€ í—ˆìš©**
```python
is_foreign_strong = foreign_signal == "STRONG_BUY"
if daily_change > 3.0:
    if not (is_foreign_strong and daily_change <= 5.0):
        return excluded
```

### ì»¤ë°‹
- `84fe9fa` - ë™ë°˜ë§¤ìˆ˜: ì™¸êµ­ì¸ STRONG_BUYëŠ” 5%ê¹Œì§€ í—ˆìš©

---

## âœ… ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸

### RAGFlow
- Docker: Up 12h âœ…
- API (9385): ì •ìƒ âœ…
- Dataset: clawd-memory (35ë¬¸ì„œ, 54chunks)
- ê²€ìƒ‰: ì •ìƒ âœ…

### Telegram
- ë´‡: iljo (@ppakppak_bot) âœ…
- API ì—°ê²°: ì •ìƒ âœ…
- ì–‘ë°©í–¥ ë©”ì‹œì§€: ì •ìƒ âœ…

---

## ðŸ“ ì‚¼ì„± 10% ë³´ìœ  ì›ì¹™ í™•ì¸

`simple_deep_buy.py`ì— ì •ì˜:
```python
SAMSUNG_MIN_HOLD_RATIO = 0.10  # ì´ìžì‚°ì˜ 10% ìœ ì§€
```

ì˜ˆì™¸: ì‹ ê³ ì  ê°±ì‹  ì‹œ 1ì£¼ ë§¤ë„ (10% ë¬´ì‹œ)
- `_sell_one_share_on_peak()` í•¨ìˆ˜ë¡œ êµ¬í˜„ë¨
